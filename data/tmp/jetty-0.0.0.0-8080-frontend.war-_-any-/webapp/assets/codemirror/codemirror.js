window.CodeMirror=(function(){function p(a6,a2){var cq={},bD=p.defaults;for(var aU in bD){if(bD.hasOwnProperty(aU)){cq[aU]=(a2&&a2.hasOwnProperty(aU)?a2:bD)[aU]}}var bG=ai("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");bG.setAttribute("wrap","off");bG.setAttribute("autocorrect","off");bG.setAttribute("autocapitalize","off");var cm=ai("div",[bG],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");var cO=ai("div",null,"CodeMirror-scrollbar-inner");var a5=ai("div",[cO],"CodeMirror-scrollbar");var aL=ai("div"),bA=ai("div",null,null,"position: relative; z-index: -1");var bx=ai("pre","\u00a0","CodeMirror-cursor"),br=ai("pre","\u00a0","CodeMirror-cursor","visibility: hidden");var aQ=ai("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;");var bR=ai("div",[aQ,bx,br,bA,aL],null,"position: relative; z-index: 0");var bi=ai("div",null,"CodeMirror-gutter-text"),a0=ai("div",[bi],"CodeMirror-gutter");var cJ=ai("div",[a0,ai("div",[bR],"CodeMirror-lines")],null,"position: relative");var cz=ai("div",[cJ],null,"position: relative");var bE=ai("div",[cz],"CodeMirror-scroll");bE.setAttribute("tabIndex","-1");var aY=ai("div",[cm,a5,bE],"CodeMirror"+(cq.lineWrapping?" CodeMirror-wrap":""));if(a6.appendChild){a6.appendChild(aY)}else{a6(aY)}c5();cY();if(h){bG.style.width="0px"}if(!k){bE.draggable=true}bR.style.outline="none";if(cq.tabindex!=null){bG.tabIndex=cq.tabindex}if(cq.autofocus){bY()}if(!cq.gutter&&!cq.lineNumbers){a0.style.display="none"}if(af){cm.style.height="1px",cm.style.position="absolute"}if(U){a5.style.zIndex=-2;a5.style.visibility="hidden"}else{if(J){a5.style.minWidth="18px"}}var cx=new i(),aR=new i(),di;var cE,c1=new aj([new O([new H("")])]),dc=0,cL;cj();var dq={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var cK,bL,bk,bT=0,bw,cQ=false,cV=false,cc=false;var cS,cw,aW,dg,a9,bc,c2;var by=0,dj=0,b9=0,ca=0;var ct;var b3=c8(0),c6=false,bK=true;var bP=false;var cX=null;aM(function(){bg(cq.value||"");cS=false})();var bu=new D();aC(bE,"mousedown",aM(cM));aC(bE,"dblclick",aM(cl));aC(bR,"selectstart",e);if(!v){aC(bE,"contextmenu",bm)}aC(bE,"scroll",cB);aC(a5,"scroll",bZ);aC(a5,"mousedown",function(){if(cL){setTimeout(bY,0)}});var cA=aC(window,"resize",function(){if(aY.parentNode){cG(true)}else{cA()}},true);aC(bG,"keyup",aM(cN));aC(bG,"input",ba);aC(bG,"keydown",aM(cF));aC(bG,"keypress",aM(bH));aC(bG,"focus",dn);aC(bG,"blur",aZ);function b2(ds){if(cq.onDragEvent&&cq.onDragEvent(cC,P(ds))){return}ac(ds)}if(cq.dragDrop){aC(bE,"dragstart",a1);aC(bE,"dragenter",b2);aC(bE,"dragover",b2);aC(bE,"drop",aM(aH))}aC(bE,"paste",function(){bY();ba()});aC(bG,"paste",function(){cc=true;ba()});aC(bG,"cut",aM(function(){if(!cq.readOnly){bO("")}}));if(af){aC(cz,"mouseup",function(){if(document.activeElement==bG){bG.blur()}bY()})}var cZ;try{cZ=(document.activeElement==bG)}catch(cy){}if(cZ||cq.autofocus){setTimeout(dn,20)}else{aZ()}function bN(ds){return ds>=0&&ds<c1.size}var cC=aY.CodeMirror={getValue:cr,setValue:aM(bg),getSelection:cs,replaceSelection:aM(bO),focus:function(){window.focus();bY();dn();ba()},setOption:function(dt,du){var ds=cq[dt];cq[dt]=du;if(dt=="mode"||dt=="indentUnit"){cj()}else{if(dt=="readOnly"&&du=="nocursor"){aZ();bG.blur()}else{if(dt=="readOnly"&&!du){c4(true)}else{if(dt=="theme"){c5()}else{if(dt=="lineWrapping"&&ds!=du){aM(c9)()}else{if(dt=="tabSize"){cG(true)}else{if(dt=="keyMap"){cY()}else{if(dt=="tabindex"){bG.tabIndex=du}}}}}}}}if(dt=="lineNumbers"||dt=="gutter"||dt=="firstLineNumber"||dt=="theme"||dt=="lineNumberFormatter"){bz();cG(true)}},getOption:function(ds){return cq[ds]},getMode:function(){return cE},undo:aM(dm),redo:aM(db),indentLine:aM(function(dt,ds){if(typeof ds!="string"){if(ds==null){ds=cq.smartIndent?"smart":"prev"}else{ds=ds?"add":"subtract"}}if(bN(dt)){bX(dt,ds)}}),indentSelection:aM(c3),historySize:function(){return{undo:bu.done.length,redo:bu.undone.length}},clearHistory:function(){bu=new D()},setHistory:function(ds){bu=new D();bu.done=ds.done;bu.undone=ds.undone},getHistory:function(){function ds(dy){for(var dx=0,dz=[],dA;dx<dy.length;++dx){dz.push(dA=[]);for(var dw=0,dv=dy[dx];dw<dv.length;++dw){var dt=[],dB=dv[dw];dA.push({start:dB.start,added:dB.added,old:dt});for(var du=0;du<dB.old.length;++du){dt.push(ar(dB.old[du]))}}}return dz}return{done:ds(bu.done),undone:ds(bu.undone)}},matchBrackets:aM(function(){cH(true)}),getTokenAt:aM(function(ds){ds=bd(ds);return c8(ds.line).getTokenAt(cE,cW(ds.line),cq.tabSize,ds.ch)}),getStateAfter:function(ds){ds=co(ds==null?c1.size-1:ds);return cW(ds+1)},cursorCoords:function(dt,ds){if(dt==null){dt=dq.inverted}return this.charCoords(dt?dq.from:dq.to,ds)},charCoords:function(dt,ds){dt=bd(dt);if(ds=="local"){return dk(dt,false)}if(ds=="div"){return dk(dt,true)}return aJ(dt)},coordsChar:function(ds){var dt=z(bR);return b6(ds.x-dt.left,ds.y-dt.top)},defaultTextHeight:function(){return ce()},markText:aM(b4),setBookmark:be,findMarksAt:bI,setMarker:aM(ck),clearMarker:aM(aP),setLineClass:aM(bF),hideLine:aM(function(ds){return dd(ds,true)}),showLine:aM(function(ds){return dd(ds,false)}),onDeleteLine:function(ds,dt){if(typeof ds=="number"){if(!bN(ds)){return null}ds=c8(ds)}(ds.handlers||(ds.handlers=[])).push(dt);return ds},lineInfo:bf,getViewport:function(){return{from:dj,to:b9}},addWidget:function(dw,du,dy,dv,dA){dw=dk(bd(dw));var dx=dw.yBot,dt=dw.x;du.style.position="absolute";cz.appendChild(du);if(dv=="over"){dx=dw.y}else{if(dv=="near"){var ds=Math.max(bE.offsetHeight,c1.height*ce()),dz=Math.max(cz.clientWidth,bR.clientWidth)-bq();if(dw.yBot+du.offsetHeight>ds&&dw.y>du.offsetHeight){dx=dw.y-du.offsetHeight}if(dt+du.offsetWidth>dz){dt=dz-du.offsetWidth}}}du.style.top=(dx+cU())+"px";du.style.left=du.style.right="";if(dA=="right"){dt=cz.clientWidth-du.offsetWidth;du.style.right="0px"}else{if(dA=="left"){dt=0}else{if(dA=="middle"){dt=(cz.clientWidth-du.offsetWidth)/2}}du.style.left=(dt+bq())+"px"}if(dy){aV(dt,dx,dt+du.offsetWidth,dx+du.offsetHeight)}},lineCount:function(){return c1.size},clipPos:bd,getCursor:function(ds){if(ds==null){ds=dq.inverted}return Y(ds?dq.from:dq.to)},somethingSelected:function(){return !R(dq.from,dq.to)},setCursor:aM(function(ds,du,dt){if(du==null&&typeof ds.line=="number"){bs(ds.line,ds.ch,dt)}else{bs(ds,du,dt)}}),setSelection:aM(function(du,dt,ds){(ds?bW:bU)(bd(du),bd(dt||du))}),getLine:function(ds){if(bN(ds)){return c8(ds).text}},getLineHandle:function(ds){if(bN(ds)){return c8(ds)}},setLine:aM(function(ds,dt){if(bN(ds)){cf(dt,{line:ds,ch:0},{line:ds,ch:c8(ds).text.length})}}),removeLine:aM(function(ds){if(bN(ds)){cf("",{line:ds,ch:0},bd({line:ds+1,ch:0}))}}),replaceRange:aM(cf),getRange:function(du,dt,ds){return dh(bd(du),bd(dt),ds)},triggerOnKeyDown:aM(cF),execCommand:function(ds){return r[ds](cC)},moveH:aM(c7),deleteH:aM(cP),moveV:aM(c0),toggleOverwrite:function(){if(cQ){cQ=false;bx.className=bx.className.replace(" CodeMirror-overwrite","")}else{cQ=true;bx.className+=" CodeMirror-overwrite"}},posFromIndex:function(dt){var du=0,ds;c1.iter(0,c1.size,function(dv){var dw=dv.text.length+1;if(dw>dt){ds=dt;return true}dt-=dw;++du});return bd({line:du,ch:ds})},indexFromPos:function(dt){if(dt.line<0||dt.ch<0){return 0}var ds=dt.ch;c1.iter(0,dt.line,function(du){ds+=du.text.length+1});return ds},scrollTo:function(ds,dt){if(ds!=null){bE.scrollLeft=ds}if(dt!=null){a5.scrollTop=bE.scrollTop=dt}cG([])},getScrollInfo:function(){return{x:bE.scrollLeft,y:a5.scrollTop,height:a5.scrollHeight,width:bE.scrollWidth}},scrollIntoView:function(dt){var ds=dk(dt?bd(dt):dq.inverted?dq.from:dq.to);aV(ds.x,ds.y,ds.x,ds.yBot)},setSize:function(du,ds){function dt(dv){dv=String(dv);return/^\d+$/.test(dv)?dv+"px":dv}if(du!=null){aY.style.width=dt(du)}if(ds!=null){bE.style.height=dt(ds)}cC.refresh()},operation:function(ds){return aM(ds)()},compoundChange:function(ds){return cd(ds)},refresh:function(){cG(true,null,bT);if(a5.scrollHeight>bT){a5.scrollTop=bT}},getInputField:function(){return bG},getWrapperElement:function(){return aY},getScrollerElement:function(){return bE},getGutterElement:function(){return a0}};function c8(ds){return K(c1,ds)}function bo(dt,ds){bc=true;var du=ds-dt.height;for(var dv=dt;dv;dv=dv.parent){dv.height+=du}}function cb(ds,dt){if(!ds.styles){ds.highlight(cE,ds.stateAfter=cW(V(ds)),cq.tabSize)}return ds.getContent(cq.tabSize,dt,cq.lineWrapping)}function bg(ds){var dt={line:0,ch:0};a8(dt,{line:c1.size-1,ch:c8(c1.size-1).text.length},g(ds),dt,dt);cS=true}function cr(dt){var ds=[];c1.iter(0,c1.size,function(du){ds.push(du.text)});return ds.join(dt||"\n")}function bZ(ds){if(Math.abs(a5.scrollTop-bT)>1){bT=bE.scrollTop=a5.scrollTop;cG([])}}function cB(ds){if(cq.fixedGutter&&a0.style.left!=bE.scrollLeft+"px"){a0.style.left=bE.scrollLeft+"px"}if(Math.abs(bE.scrollTop-bT)>1){bT=bE.scrollTop;if(a5.scrollTop!=bT){a5.scrollTop=bT}cG([])}if(cq.onScroll){cq.onScroll(cC)}}function cM(dE){bp(ab(dE,"shiftKey"));for(var dy=ap(dE);dy!=aY;dy=dy.parentNode){if(dy.parentNode==cz&&dy!=cJ){return}}for(var dy=ap(dE);dy!=aY;dy=dy.parentNode){if(dy.parentNode==bi){if(cq.onGutterClick){cq.onGutterClick(cC,s(bi.childNodes,dy)+dj,dE)}return e(dE)}}var dt=bn(dE);switch(C(dE)){case 3:if(v){bm(dE)}return;case 2:if(dt){bs(dt.line,dt.ch,true)}setTimeout(bY,20);e(dE);return}if(!dt){if(ap(dE)==bE){e(dE)}return}if(!cL){dn()}var du=+new Date,dH="single";if(bk&&bk.time>du-400&&R(bk.pos,dt)){dH="triple";e(dE);setTimeout(bY,20);a3(dt.line)}else{if(bL&&bL.time>du-400&&R(bL.pos,dt)){dH="double";bk={time:du,pos:dt};e(dE);var ds=bQ(dt);bW(ds.from,ds.to)}else{bL={time:du,pos:dt}}}function dz(dJ){if(k){bE.draggable=false}bw=false;dD();dx();if(Math.abs(dE.clientX-dJ.clientX)+Math.abs(dE.clientY-dJ.clientY)<10){e(dJ);bs(dt.line,dt.ch,true);bY()}}var dI=dt,dw;if(cq.dragDrop&&aa&&!cq.readOnly&&!R(dq.from,dq.to)&&!B(dt,dq.from)&&!B(dq.to,dt)&&dH=="single"){if(k){bE.draggable=true}var dD=aC(document,"mouseup",aM(dz),true);var dx=aC(bE,"drop",aM(dz),true);bw=true;if(bE.dragDrop){bE.dragDrop()}return}e(dE);if(dH=="single"){bs(dt.line,dt.ch,true)}var dG=dq.from,dv=dq.to;function dB(dK){if(dH=="single"){bW(dt,dK)}else{if(dH=="double"){var dJ=bQ(dK);if(B(dK,dG)){bW(dJ.from,dv)}else{bW(dG,dJ.to)}}else{if(dH=="triple"){if(B(dK,dG)){bW(dv,bd({line:dK.line,ch:0}))}else{bW(dG,bd({line:dK.line+1,ch:0}))}}}}}function dF(dJ){var dL=bn(dJ,true);if(dL&&!R(dL,dI)){if(!cL){dn()}dI=dL;dB(dL);cS=false;var dK=b0();if(dL.line>=dK.to||dL.line<dK.from){dw=setTimeout(aM(function(){dF(dJ)}),150)}}}function dC(dJ){clearTimeout(dw);var dK=bn(dJ);if(dK){dB(dK)}e(dJ);bY();cS=true;dA();dD()}var dA=aC(document,"mousemove",aM(function(dJ){clearTimeout(dw);e(dJ);if(!S&&!C(dJ)){dC(dJ)}else{dF(dJ)}}),true);var dD=aC(document,"mouseup",aM(dC),true)}function cl(ds){for(var dt=ap(ds);dt!=aY;dt=dt.parentNode){if(dt.parentNode==bi){return e(ds)}}e(ds)}function aH(dw){if(cq.onDragEvent&&cq.onDragEvent(cC,P(dw))){return}e(dw);var dz=bn(dw,true),dt=dw.dataTransfer.files;if(!dz||cq.readOnly){return}if(dt&&dt.length&&window.FileReader&&window.File){var dy=dt.length,dx=Array(dy),du=0;var dv=function(dC,dB){var dA=new FileReader;dA.onload=function(){dx[dB]=dA.result;if(++du==dy){dz=bd(dz);aM(function(){var dD=cf(dx.join(""),dz,dz);bW(dz,dD)})()}};dA.readAsText(dC)};for(var ds=0;ds<dy;++ds){dv(dt[ds],ds)}}else{if(bw&&!(B(dz,dq.from)||B(dq.to,dz))){return}try{var dx=dw.dataTransfer.getData("Text");if(dx){cd(function(){var dB=dq.from,dA=dq.to;bW(dz,dz);if(bw){cf("",dB,dA)}bO(dx);bY()})}}catch(dw){}}}function a1(dt){var ds=cs();dt.dataTransfer.setData("Text",ds);if(dt.dataTransfer.setDragImage){dt.dataTransfer.setDragImage(ai("img"),0,0)}}function bC(du,ds){if(typeof du=="string"){du=r[du];if(!du){return false}}var dt=cK;try{if(cq.readOnly){cV=true}if(ds){cK=null}du(cC)}catch(dv){if(dv!=ao){throw dv}return false}finally{cK=dt;cV=false}return true}var b1;function de(dz){var ds=aq(cq.keyMap),dw=ds.auto;clearTimeout(b1);if(dw&&!ah(dz)){b1=setTimeout(function(){if(aq(cq.keyMap)==ds){cq.keyMap=(dw.call?dw.call(null,cC):dw)}},50)}var dt=u[ab(dz,"keyCode")],dy=false;var dv=av&&I;if(dt==null||dz.altGraphKey){return false}if(ab(dz,"altKey")){dt="Alt-"+dt}if(ab(dz,dv?"metaKey":"ctrlKey")){dt="Ctrl-"+dt}if(ab(dz,dv?"ctrlKey":"metaKey")){dt="Cmd-"+dt}var dx=false;function du(){dx=true}if(ab(dz,"shiftKey")){dy=at("Shift-"+dt,cq.extraKeys,cq.keyMap,function(dA){return bC(dA,true)},du)||at(dt,cq.extraKeys,cq.keyMap,function(dA){if(typeof dA=="string"&&/^go[A-Z]/.test(dA)){return bC(dA)}},du)}else{dy=at(dt,cq.extraKeys,cq.keyMap,bC,du)}if(dx){dy=false}if(dy){e(dz);df();if(G){dz.oldKeyCode=dz.keyCode;dz.keyCode=0}}return dy}function cn(du,ds){var dt=at("'"+ds+"'",cq.extraKeys,cq.keyMap,function(dv){return bC(dv,true)});if(dt){e(du);df()}return dt}var da=null;function cF(du){if(!cL){dn()}if(S&&du.keyCode==27){du.returnValue=false}if(bP){if(b8()){bP=false}}if(cq.onKeyEvent&&cq.onKeyEvent(cC,P(du))){return}var ds=ab(du,"keyCode");bp(ds==16||ab(du,"shiftKey"));var dt=de(du);if(av){da=dt?ds:null;if(!dt&&ds==88&&ab(du,I?"metaKey":"ctrlKey")){bO("")}}}function bH(dv){if(bP){b8()}if(cq.onKeyEvent&&cq.onKeyEvent(cC,P(dv))){return}var du=ab(dv,"keyCode"),ds=ab(dv,"charCode");if(av&&du==da){da=null;e(dv);return}if(((av&&(!dv.which||dv.which<10))||af)&&de(dv)){return}var dt=String.fromCharCode(ds==null?du:ds);if(cq.electricChars&&cE.electricChars&&cq.smartIndent&&!cq.readOnly){if(cE.electricChars.indexOf(dt)>-1){setTimeout(aM(function(){bX(dq.to.line,"smart")}),75)}}if(cn(dv,dt)){return}ba()}function cN(ds){if(cq.onKeyEvent&&cq.onKeyEvent(cC,P(ds))){return}if(ab(ds,"keyCode")==16){cK=null}}function dn(){if(cq.readOnly=="nocursor"){return}if(!cL){if(cq.onFocus){cq.onFocus(cC)}cL=true;if(bE.className.search(/\bCodeMirror-focused\b/)==-1){bE.className+=" CodeMirror-focused"}}aG();df()}function aZ(){if(cL){if(cq.onBlur){cq.onBlur(cC)}cL=false;if(ct){aM(function(){if(ct){ct();ct=null}})()}bE.className=bE.className.replace(" CodeMirror-focused","")}clearInterval(di);setTimeout(function(){if(!cL){cK=null}},150)}function a8(dy,dx,dw,dt,ds){if(cV){return}var dv=[];c1.iter(dy.line,dx.line+1,function(dz){dv.push(j(dz.text,dz.markedSpans))});if(bu){bu.addChange(dy.line,dw.length,dv);while(bu.done.length>cq.undoDepth){bu.done.shift()}}var du=W(d(dv[0]),d(N(dv)),dy.ch,dx.ch,dw);aN(dy,dx,du,dt,ds)}function cD(dx,dy){if(!dx.length){return}var dz=dx.pop(),dt=[];for(var du=dz.length-1;du>=0;du-=1){var dw=dz[du];var dA=[],ds=dw.start+dw.added;c1.iter(dw.start,ds,function(dB){dA.push(j(dB.text,dB.markedSpans))});dt.push({start:dw.start,added:dw.old.length,old:dA});var dv={line:dw.start+dw.old.length-1,ch:A(ar(N(dA)),ar(N(dw.old)))};aN({line:dw.start,ch:0},{line:ds-1,ch:c8(ds-1).text.length},dw.old,dv,dv)}cS=true;dy.push(dt)}function dm(){cD(bu.done,bu.undone)}function db(){cD(bu.undone,bu.done)}function aN(dH,dw,dt,ds,dL){if(cV){return}var dK=false,dv=b3.text.length;if(!cq.lineWrapping){c1.iter(dH.line,dw.line+1,function(dM){if(!dM.hidden&&dM.text.length==dv){dK=true;return true}})}if(dH.line!=dw.line||dt.length>1){bc=true}var dF=dw.line-dH.line,dE=c8(dH.line),du=c8(dw.line);var dB=N(dt);if(dH.ch==0&&dw.ch==0&&ar(dB)==""){var dC=[],dD=null;for(var dI=0,dJ=dt.length-1;dI<dJ;++dI){dC.push(new H(ar(dt[dI]),d(dt[dI])))}du.update(du.text,d(dB));if(dF){c1.remove(dH.line,dF,c2)}if(dC.length){c1.insert(dH.line,dC)}}else{if(dE==du){if(dt.length==1){dE.update(dE.text.slice(0,dH.ch)+ar(dt[0])+dE.text.slice(dw.ch),d(dt[0]))}else{for(var dC=[],dI=1,dJ=dt.length-1;dI<dJ;++dI){dC.push(new H(ar(dt[dI]),d(dt[dI])))}dC.push(new H(ar(dB)+dE.text.slice(dw.ch),d(dB)));dE.update(dE.text.slice(0,dH.ch)+ar(dt[0]),d(dt[0]));c1.insert(dH.line+1,dC)}}else{if(dt.length==1){dE.update(dE.text.slice(0,dH.ch)+ar(dt[0])+du.text.slice(dw.ch),d(dt[0]));c1.remove(dH.line+1,dF,c2)}else{var dC=[];dE.update(dE.text.slice(0,dH.ch)+ar(dt[0]),d(dt[0]));du.update(ar(dB)+du.text.slice(dw.ch),d(dB));for(var dI=1,dJ=dt.length-1;dI<dJ;++dI){dC.push(new H(ar(dt[dI]),d(dt[dI])))}if(dF>1){c1.remove(dH.line+1,dF-1,c2)}c1.insert(dH.line+1,dC)}}}if(cq.lineWrapping){var dy=Math.max(5,bE.clientWidth/bB()-3);c1.iter(dH.line,dH.line+dt.length,function(dM){if(dM.hidden){return}var dN=Math.ceil(dM.text.length/dy)||1;if(dN!=dM.height){bo(dM,dN)}})}else{c1.iter(dH.line,dH.line+dt.length,function(dN){var dM=dN.text;if(!dN.hidden&&dM.length>dv){b3=dN;dv=dM.length;bK=true;dK=false}});if(dK){c6=true}}dc=Math.min(dc,dH.line);b5(400);var dA=dt.length-dF-1;aW.push({from:dH.line,to:dw.line+1,diff:dA});if(cq.onChange){for(var dI=0;dI<dt.length;++dI){if(typeof dt[dI]!="string"){dt[dI]=dt[dI].text}}var dz={from:dH,to:dw,text:dt};if(dg){for(var dx=dg;dx.next;dx=dx.next){}dx.next=dz}else{dg=dz}}function dG(dM){return dM<=Math.min(dw.line,dw.line+dA)?dM:dM+dA}bU(bd(ds),bd(dL),dG(dq.from.line),dG(dq.to.line))}function aK(){var ds=c1.height*ce()+2*cU();return ds*0.99>bE.offsetHeight?ds:false}function aO(dt){var ds=aK();a5.style.display=ds?"block":"none";if(ds){cO.style.height=cz.style.minHeight=ds+"px";a5.style.height=bE.clientHeight+"px";if(dt!=null){a5.scrollTop=bE.scrollTop=dt;if(k){setTimeout(function(){if(a5.scrollTop!=dt){return}a5.scrollTop=dt+(dt?-1:1);a5.scrollTop=dt},0)}}}else{cz.style.minHeight=""}cJ.style.top=by*ce()+"px"}function bV(){b3=c8(0);bK=true;var ds=b3.text.length;c1.iter(1,c1.size,function(du){var dt=du.text;if(!du.hidden&&dt.length>ds){ds=dt.length;b3=du}});c6=false}function cf(dt,dw,dv){dw=bd(dw);if(!dv){dv=dw}else{dv=bd(dv)}dt=g(dt);function du(dz){if(B(dz,dw)){return dz}if(!B(dv,dz)){return ds}var dx=dz.line+dt.length-(dv.line-dw.line)-1;var dy=dz.ch;if(dz.line==dv.line){dy+=N(dt).length-(dv.ch-(dv.line==dw.line?dw.ch:0))}return{line:dx,ch:dy}}var ds;aX(dt,dw,dv,function(dx){ds=dx;return{from:du(dq.from),to:du(dq.to)}});return ds}function bO(ds,dt){aX(g(ds),dq.from,dq.to,function(du){if(dt=="end"){return{from:du,to:du}}else{if(dt=="start"){return{from:dq.from,to:dq.from}}else{return{from:dq.from,to:du}}}})}function aX(dv,dx,dw,ds){var du=dv.length==1?dv[0].length+dx.ch:N(dv).length;var dt=ds({line:dx.line+dv.length-1,ch:du});a8(dx,dw,dv,dt.from,dt.to)}function dh(dx,dw,dv){var dt=dx.line,ds=dw.line;if(dt==ds){return c8(dt).text.slice(dx.ch,dw.ch)}var du=[c8(dt).text.slice(dx.ch)];c1.iter(dt+1,ds,function(dy){du.push(dy.text)});du.push(c8(ds).text.slice(0,dw.ch));return du.join(dv||"\n")}function cs(ds){return dh(dq.from,dq.to,ds)}function aG(){if(bP){return}cx.set(cq.pollInterval,function(){b8();if(cL){aG()}})}function ba(){var ds=false;bP=true;function dt(){var du=b8();if(!du&&!ds){ds=true;cx.set(60,dt)}else{bP=false;aG()}}cx.set(20,dt)}var bv="";function b8(){if(!cL||b(bG)||cq.readOnly){return false}var dt=bG.value;if(dt==bv){return false}if(!cT){a7()}cK=null;var du=0,ds=Math.min(bv.length,dt.length);while(du<ds&&bv[du]==dt[du]){++du}if(du<bv.length){dq.from={line:dq.from.line,ch:dq.from.ch-(bv.length-du)}}else{if(cQ&&R(dq.from,dq.to)&&!cc){dq.to={line:dq.to.line,ch:Math.min(c8(dq.to.line).text.length,dq.to.ch+(dt.length-du))}}}bO(dt.slice(du),"end");if(dt.length>1000){bG.value=bv=""}else{bv=dt}if(!cT){aT()}cc=false;return true}function c4(ds){if(!R(dq.from,dq.to)){bv="";bG.value=cs();if(cL){aD(bG)}}else{if(ds){bv=bG.value=""}}}function bY(){if(cq.readOnly!="nocursor"){bG.focus()}}function cI(){var dv=cg();aV(dv.x,dv.y,dv.x,dv.yBot);if(!cL){return}var dt=cz.getBoundingClientRect(),ds=null;if(dv.y+dt.top<0){ds=true}else{if(dv.y+dt.top+ce()>(window.innerHeight||document.documentElement.clientHeight)){ds=false}}if(ds!=null){var du=bx.style.display=="none";if(du){bx.style.display="";bx.style.left=dv.x+"px";bx.style.top=(dv.y-by)+"px"}bx.scrollIntoView(ds);if(du){bx.style.display="none"}}}function cg(){var dt=dk(dq.inverted?dq.from:dq.to);var ds=cq.lineWrapping?Math.min(dt.x,bR.offsetWidth):dt.x;return{x:ds,y:dt.y,yBot:dt.yBot}}function aV(dt,dv,ds,du){var dw=bj(dt,dv,ds,du);if(dw.scrollLeft!=null){bE.scrollLeft=dw.scrollLeft}if(dw.scrollTop!=null){a5.scrollTop=bE.scrollTop=dw.scrollTop}}function bj(dv,dC,dt,dB){var dy=bq(),dH=cU();dC+=dH;dB+=dH;dv+=dy;dt+=dy;var dE=bE.clientHeight,dw=a5.scrollTop,dG={};var du=aK()||Infinity;var ds=dC<dH+10,dA=dB+dH>du-10;if(dC<dw){dG.scrollTop=ds?0:Math.max(0,dC)}else{if(dB>dw+dE){dG.scrollTop=(dA?du:dB)-dE}}var dD=bE.clientWidth,dF=bE.scrollLeft;var dz=cq.fixedGutter?a0.clientWidth:0;var dx=dv<dz+dy+10;if(dv<dF+dz||dx){if(dx){dv=0}dG.scrollLeft=Math.max(0,dv-10-dz)}else{if(dt>dD+dF-3){dG.scrollLeft=dt+10-dD}}return dG}function b0(dw){var ds=ce(),dv=(dw!=null?dw:a5.scrollTop)-cU();var du=Math.max(0,Math.floor(dv/ds));var dt=Math.ceil((dv+bE.clientHeight)/ds);return{from:ad(c1,du),to:ad(c1,dt)}}function cG(dB,dx,dv){if(!bE.clientWidth){dj=b9=by=0;return}var dw=b0(dv);if(dB!==true&&dB.length==0&&dw.from>dj&&dw.to<b9){aO(dv);return}var dC=Math.max(dw.from-100,0),dD=Math.min(c1.size,dw.to+100);if(dj<dC&&dC-dj<20){dC=dj}if(b9>dD&&b9-dD<20){dD=Math.min(c1.size,b9)}var dF=dB===true?[]:cp([{from:dj,to:b9,domStart:0}],dB);var dA=0;for(var dy=0;dy<dF.length;++dy){var dz=dF[dy];if(dz.from<dC){dz.domStart+=(dC-dz.from);dz.from=dC}if(dz.to>dD){dz.to=dD}if(dz.from>=dz.to){dF.splice(dy--,1)}else{dA+=dz.to-dz.from}}if(dA==dD-dC&&dC==dj&&dD==b9){aO(dv);return}dF.sort(function(dH,dG){return dH.domStart-dG.domStart});var du=ce(),ds=a0.style.display;aL.style.display="none";bb(dC,dD,dF);aL.style.display=a0.style.display="";var dt=dC!=dj||dD!=b9||ca!=bE.clientHeight+du;if(dt){ca=bE.clientHeight+du}if(dC!=dj||dD!=b9&&cq.onViewportChange){setTimeout(function(){if(cq.onViewportChange){cq.onViewportChange(cC,dC,dD)}})}dj=dC;b9=dD;by=a(c1,dC);b5(100);if(aL.childNodes.length!=b9-dj){throw new Error("BAD PATCH! "+JSON.stringify(dF)+" size="+(b9-dj)+" nodes="+aL.childNodes.length)}function dE(){var dH=aL.firstChild,dG=false;c1.iter(dj,b9,function(dJ){if(!dH){return}if(!dJ.hidden){var dI=Math.round(dH.offsetHeight/du)||1;if(dJ.height!=dI){bo(dJ,dI);bc=dG=true}}dH=dH.nextSibling});return dG}if(cq.lineWrapping){dE()}a0.style.display=ds;if(dt||bc){a4()&&cq.lineWrapping&&dE()&&a4()}aO(dv);dp();if(!dx&&cq.onUpdate){cq.onUpdate(cC)}return true}function cp(dB,dz){for(var dw=0,du=dz.length||0;dw<du;++dw){var dy=dz[dw],ds=[],dA=dy.diff||0;for(var dv=0,dt=dB.length;dv<dt;++dv){var dx=dB[dv];if(dy.to<=dx.from&&dy.diff){ds.push({from:dx.from+dA,to:dx.to+dA,domStart:dx.domStart})}else{if(dy.to<=dx.from||dy.from>=dx.to){ds.push(dx)}else{if(dy.from>dx.from){ds.push({from:dx.from,to:dy.from,domStart:dx.domStart})}if(dy.to<dx.to){ds.push({from:dy.to+dA,to:dx.to+dA,domStart:dx.domStart+(dy.to-dx.from)})}}}}dB=ds}return dB}function bb(dA,dB,dD){function ds(dF){var dE=dF.nextSibling;dF.parentNode.removeChild(dF);return dE}if(!dD.length){aE(aL)}else{var dw=0,du=aL.firstChild,dt;for(var dx=0;dx<dD.length;++dx){var dC=dD[dx];while(dC.domStart>dw){du=ds(du);dw++}for(var dv=0,dz=dC.to-dC.from;dv<dz;++dv){du=du.nextSibling;dw++}}while(du){du=ds(du)}}var dy=dD.shift(),du=aL.firstChild,dv=dA;c1.iter(dA,dB,function(dE){if(dy&&dy.to==dv){dy=dD.shift()}if(!dy||dy.from>dv){if(dE.hidden){var dF=ai("pre")}else{var dF=cb(dE);if(dE.className){dF.className=dE.className}if(dE.bgClassName){var dG=ai("pre","\u00a0",dE.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2");dF=ai("div",[dG,dF],null,"position: relative")}}aL.insertBefore(dF,du)}else{du=du.nextSibling}++dv})}function a4(){if(!cq.gutter&&!cq.lineNumbers){return}var dt=cJ.offsetHeight,dB=bE.clientHeight;a0.style.height=(dt-dB<2?dB:dt)+"px";var dz=document.createDocumentFragment(),dx=dj,dA;c1.iter(dj,Math.max(b9,dj+1),function(dD){if(dD.hidden){dz.appendChild(ai("pre"))}else{var dC=dD.gutterMarker;var dG=cq.lineNumbers?cq.lineNumberFormatter(dx+cq.firstLineNumber):null;if(dC&&dC.text){dG=dC.text.replace("%N%",dG!=null?dG:"")}else{if(dG==null){dG="\u00a0"}}var dF=dz.appendChild(ai("pre",null,dC&&dC.style));dF.innerHTML=dG;for(var dE=1;dE<dD.height;++dE){dF.appendChild(ai("br"));dF.appendChild(document.createTextNode("\u00a0"))}if(!dC){dA=dx}}++dx});a0.style.display="none";q(bi,dz);if(dA!=null&&cq.lineNumbers){var dv=bi.childNodes[dA-dj];var dw=String(c1.size).length,ds=az(dv.firstChild),du="";while(ds.length+du.length<dw){du+="\u00a0"}if(du){dv.insertBefore(document.createTextNode(du),dv.firstChild)}}a0.style.display="";var dy=Math.abs((parseInt(bR.style.marginLeft)||0)-a0.offsetWidth)>2;bR.style.marginLeft=a0.offsetWidth+"px";bc=false;return dy}function dp(){var dv=R(dq.from,dq.to);var dG=dk(dq.from,true);var dB=dv?dG:dk(dq.to,true);var dz=dq.inverted?dG:dB,dt=ce();var ds=z(aY),du=z(aL);cm.style.top=Math.max(0,Math.min(bE.offsetHeight,dz.y+du.top-ds.top))+"px";cm.style.left=Math.max(0,Math.min(bE.offsetWidth,dz.x+du.left-ds.left))+"px";if(dv){bx.style.top=dz.y+"px";bx.style.left=(cq.lineWrapping?Math.min(dz.x,bR.offsetWidth):dz.x)+"px";bx.style.display="";bA.style.display="none"}else{var dE=dG.y==dB.y,dy=document.createDocumentFragment();var dC=bR.clientWidth||bR.offsetWidth;var dx=bR.clientHeight||bR.offsetHeight;var dF=function(dL,dK,dJ,dH){var dI=l?"width: "+(!dJ?dC:dC-dJ-dL)+"px":"right: "+dJ+"px";dy.appendChild(ai("div",null,"CodeMirror-selected","position: absolute; left: "+dL+"px; top: "+dK+"px; "+dI+"; height: "+dH+"px"))};if(dq.from.ch&&dG.y>=0){var dD=dE?dC-dB.x:0;dF(dG.x,dG.y,dD,dt)}var dw=Math.max(0,dG.y+(dq.from.ch?dt:0));var dA=Math.min(dB.y,dx)-dw;if(dA>0.2*dt){dF(0,dw,0,dA)}if((!dE||!dq.from.ch)&&dB.y<dx-0.5*dt){dF(0,dB.y,dC-dB.x,dt)}q(bA,dy);bx.style.display="none";bA.style.display=""}}function bp(ds){if(ds){cK=cK||(dq.inverted?dq.to:dq.from)}else{cK=null}}function bW(du,dt){var ds=cK&&bd(cK);if(ds){if(B(ds,du)){du=ds}else{if(B(dt,ds)){dt=ds}}}bU(du,dt);cw=true}function bU(dz,dy,ds,dx){cX=null;if(ds==null){ds=dq.from.line;dx=dq.to.line}if(R(dq.from,dz)&&R(dq.to,dy)){return}if(B(dy,dz)){var dv=dy;dy=dz;dz=dv}if(dz.line!=ds){var dw=ch(dz,ds,dq.from.ch);if(!dw){dd(dz.line,false)}else{dz=dw}}if(dy.line!=dx){dy=ch(dy,dx,dq.to.ch)}if(R(dz,dy)){dq.inverted=false}else{if(R(dz,dq.to)){dq.inverted=false}else{if(R(dy,dq.from)){dq.inverted=true}}}if(cq.autoClearEmptyLines&&R(dq.from,dq.to)){var du=dq.inverted?dz:dy;if(du.line!=dq.from.line&&dq.from.line<c1.size){var dt=c8(dq.from.line);if(/^\s+$/.test(dt.text)){setTimeout(aM(function(){if(dt.parent&&/^\s+$/.test(dt.text)){var dA=V(dt);cf("",{line:dA,ch:0},{line:dA,ch:dt.text.length})}},10))}}}dq.from=dz;dq.to=dy;a9=true}function ch(dx,dt,du){function dw(dA){var dC=dx.line+dA,dz=dA==1?c1.size:-1;while(dC!=dz){var dy=c8(dC);if(!dy.hidden){var dB=dx.ch;if(dv||dB>du||dB>dy.text.length){dB=dy.text.length}return{line:dC,ch:dB}}dC+=dA}}var ds=c8(dx.line);var dv=dx.ch==ds.text.length&&dx.ch!=du;if(!ds.hidden){return dx}if(dx.line>=dt){return dw(1)||dw(-1)}else{return dw(-1)||dw(1)}}function bs(ds,du,dt){var dv=bd({line:ds,ch:du||0});(dt?bW:bU)(dv,dv)}function co(ds){return Math.max(0,Math.min(ds,c1.size-1))}function bd(du){if(du.line<0){return{line:0,ch:0}}if(du.line>=c1.size){return{line:c1.size-1,ch:c8(c1.size-1).text.length}}var ds=du.ch,dt=c8(du.line).text.length;if(ds==null||ds>dt){return{line:du.line,ch:dt}}else{if(ds<0){return{line:du.line,ch:0}}else{return du}}}function cR(dv,dz){var dw=dq.inverted?dq.from:dq.to,dA=dw.line,ds=dw.ch;var dy=c8(dA);function dt(){for(var dB=dA+dv,dD=dv<0?-1:c1.size;dB!=dD;dB+=dv){var dC=c8(dB);if(!dC.hidden){dA=dB;dy=dC;return true}}}function dx(dB){if(ds==(dv<0?0:dy.text.length)){if(!dB&&dt()){ds=dv<0?dy.text.length:0}else{return false}}else{ds+=dv}return true}if(dz=="char"){dx()}else{if(dz=="column"){dx(true)}else{if(dz=="word"){var du=false;for(;;){if(dv<0){if(!dx()){break}}if(L(dy.text.charAt(ds))){du=true}else{if(du){if(dv<0){dv=1;dx()}break}}if(dv>0){if(!dx()){break}}}}}}return{line:dA,ch:ds}}function c7(ds,dt){var du=ds<0?dq.from:dq.to;if(cK||R(dq.from,dq.to)){du=cR(ds,dt)}bs(du.line,du.ch,true)}function cP(ds,dt){if(!R(dq.from,dq.to)){cf("",dq.from,dq.to)}else{if(ds<0){cf("",cR(ds,dt),dq.to)}else{cf("",dq.from,cR(ds,dt))}}cw=true}function c0(dt,dv){var dx=0,dy=dk(dq.inverted?dq.from:dq.to,true);if(cX!=null){dy.x=cX}if(dv=="page"){var ds=Math.min(bE.clientHeight,window.innerHeight||document.documentElement.clientHeight);var dw=b6(dy.x,dy.y+ds*dt)}else{if(dv=="line"){var du=ce();var dw=b6(dy.x,dy.y+0.5*du+dt*du)}}if(dv=="page"){a5.scrollTop+=dk(dw,true).y-dy.y}bs(dw.line,dw.ch,true);cX=dy.x}function bQ(dx){var dv=c8(dx.line).text;var dw=dx.ch,du=dx.ch;if(dv){if(dx.after===false||du==dv.length){--dw}else{++du}var dt=dv.charAt(dw);var ds=L(dt)?L:/\s/.test(dt)?function(dy){return/\s/.test(dy)}:function(dy){return !/\s/.test(dy)&&L(dy)};while(dw>0&&ds(dv.charAt(dw-1))){--dw}while(du<dv.length&&ds(dv.charAt(du))){++du}}return{from:{line:dx.line,ch:dw},to:{line:dx.line,ch:du}}}function a3(ds){bW({line:ds,ch:0},bd({line:ds+1,ch:0}))}function c3(du){if(R(dq.from,dq.to)){return bX(dq.from.line,du)}var dt=dq.to.line-(dq.to.ch?0:1);for(var ds=dq.from.line;ds<=dt;++ds){bX(ds,du)}}function bX(du,dB){if(!dB){dB="add"}if(dB=="smart"){if(!cE.indent){dB="prev"}else{var ds=cW(du)}}var dC=c8(du),dw=dC.indentation(cq.tabSize),dt=dC.text.match(/^\s*/)[0],dy;if(dB=="smart"){dy=cE.indent(ds,dC.text.slice(dt.length),dC.text);if(dy==ao){dB="prev"}}if(dB=="prev"){if(du){dy=c8(du-1).indentation(cq.tabSize)}else{dy=0}}else{if(dB=="add"){dy=dw+cq.indentUnit}else{if(dB=="subtract"){dy=dw-cq.indentUnit}}}dy=Math.max(0,dy);var dA=dy-dw;var dz="",dx=0;if(cq.indentWithTabs){for(var dv=Math.floor(dy/cq.tabSize);dv;--dv){dx+=cq.tabSize;dz+="\t"}}if(dx<dy){dz+=ax(dy-dx)}if(dz!=dt){cf(dz,{line:du,ch:0},{line:du,ch:dt.length})}dC.stateAfter=null}function cj(){cE=p.getMode(cq,cq.mode);c1.iter(0,c1.size,function(ds){ds.stateAfter=null});dc=0;b5(100)}function bz(){var ds=cq.gutter||cq.lineNumbers;a0.style.display=ds?"":"none";if(ds){bc=true}else{aL.parentNode.style.marginLeft=0}}function c9(du,dt){if(cq.lineWrapping){aY.className+=" CodeMirror-wrap";var ds=bE.clientWidth/bB()-3;c1.iter(0,c1.size,function(dv){if(dv.hidden){return}var dw=Math.ceil(dv.text.length/ds)||1;if(dw!=1){bo(dv,dw)}});bR.style.minWidth=br.style.left=""}else{aY.className=aY.className.replace(" CodeMirror-wrap","");bV();c1.iter(0,c1.size,function(dv){if(dv.height!=1&&!dv.hidden){bo(dv,1)}})}aW.push({from:0,to:c1.size})}function c5(){bE.className=bE.className.replace(/\s*cm-s-\S+/g,"")+cq.theme.replace(/(^|\s)\s*/g," cm-s-")}function cY(){var ds=f[cq.keyMap].style;aY.className=aY.className.replace(/\s*cm-keymap-\S+/g,"")+(ds?" cm-keymap-"+ds:"")}function dr(dt,ds){this.lines=[];this.type=dt;if(ds){this.style=ds}}dr.prototype.clear=aM(function(){var dv,ds;for(var du=0;du<this.lines.length;++du){var dt=this.lines[du];var dw=aF(dt.markedSpans,this);if(dw.from!=null){dv=V(dt)}if(dw.to!=null){ds=V(dt)}dt.markedSpans=aB(dt.markedSpans,dw)}if(dv!=null){aW.push({from:dv,to:ds+1})}this.lines.length=0;this.explicitlyCleared=true});dr.prototype.find=function(){var dx,dw;for(var dt=0;dt<this.lines.length;++dt){var ds=this.lines[dt];var du=aF(ds.markedSpans,this);if(du.from!=null||du.to!=null){var dv=V(ds);if(du.from!=null){dx={line:dv,ch:du.from}}if(du.to!=null){dw={line:dv,ch:du.to}}}}if(this.type=="bookmark"){return dx}return dx&&{from:dx,to:dw}};function b4(dy,dx,dw,du){dy=bd(dy);dx=bd(dx);var dt=new dr("range",dw);if(du){for(var dv in du){if(du.hasOwnProperty(dv)){dt[dv]=du[dv]}}}var ds=dy.line;c1.iter(ds,dx.line+1,function(dz){var dA={from:ds==dy.line?dy.ch:null,to:ds==dx.line?dx.ch:null,marker:dt};dz.markedSpans=(dz.markedSpans||[]).concat([dA]);dt.lines.push(dz);++ds});aW.push({from:dy.line,to:dx.line+1});return dt}function be(dv){dv=bd(dv);var dt=new dr("bookmark"),ds=c8(dv.line);bu.addChange(dv.line,1,[j(ds.text,ds.markedSpans)],true);var du={from:dv.ch,to:dv.ch,marker:dt};ds.markedSpans=(ds.markedSpans||[]).concat([du]);dt.lines.push(ds);return dt}function bI(dw){dw=bd(dw);var dv=[],dt=c8(dw.line).markedSpans;if(dt){for(var ds=0;ds<dt.length;++ds){var du=dt[ds];if((du.from==null||du.from<=dw.ch)&&(du.to==null||du.to>=dw.ch)){dv.push(du.marker)}}}return dv}function ck(ds,du,dt){if(typeof ds=="number"){ds=c8(co(ds))}ds.gutterMarker={text:du,style:dt};bc=true;return ds}function aP(ds){if(typeof ds=="number"){ds=c8(co(ds))}ds.gutterMarker=null;bc=true}function bh(dt,dv){var du=dt,ds=dt;if(typeof dt=="number"){ds=c8(co(dt))}else{du=V(dt)}if(du==null){return null}if(dv(ds,du)){aW.push({from:du,to:du+1})}else{return null}return ds}function bF(dt,ds,du){return bh(dt,function(dv){if(dv.className!=ds||dv.bgClassName!=du){dv.className=ds;dv.bgClassName=du;return true}})}function dd(dt,ds){return bh(dt,function(du,dx){if(du.hidden!=ds){du.hidden=ds;if(!cq.lineWrapping){if(ds&&du.text.length==b3.text.length){c6=true}else{if(!ds&&du.text.length>b3.text.length){b3=du;c6=false}}}bo(du,ds?0:1);var dw=dq.from.line,dv=dq.to.line;if(ds&&(dw==dx||dv==dx)){var dz=dw==dx?ch({line:dw,ch:0},dw,0):dq.from;var dy=dv==dx?ch({line:dv,ch:0},dv,0):dq.to;if(!dy){return}bU(dz,dy)}return(bc=true)}})}function bf(dt){if(typeof dt=="number"){if(!bN(dt)){return null}var du=dt;dt=c8(dt);if(!dt){return null}}else{var du=V(dt);if(du==null){return null}}var ds=dt.gutterMarker;return{line:du,handle:dt,text:dt.text,markerText:ds&&ds.text,markerClass:ds&&ds.style,lineClass:dt.className,bgClass:dt.bgClassName}}function cu(ds,dv){if(dv==0){return{top:0,left:0}}var dy=cb(ds,dv);q(aQ,dy);var du=dy.anchor;var dx=du.offsetTop,dw=du.offsetLeft;if(S&&dx==0&&dw==0){var dt=ai("span","x");du.parentNode.insertBefore(dt,du.nextSibling);dx=dt.offsetTop}return{top:dx,left:dw}}function dk(dx,dv){var ds,dt=ce(),dw=dt*(a(c1,dx.line)-(dv?by:0));if(dx.ch==0){ds=0}else{var du=cu(c8(dx.line),dx.ch);ds=du.left;if(cq.lineWrapping){dw+=Math.max(0,du.top)}}return{x:ds,y:dw,yBot:dw+dt}}function b6(dD,dC){var dA=ce(),dx=bB(),dJ=by+Math.floor(dC/dA);if(dJ<0){return{line:0,ch:0}}var dE=ad(c1,dJ);if(dE>=c1.size){return{line:c1.size-1,ch:c8(c1.size-1).text.length}}var dt=c8(dE),dG=dt.text;var dL=cq.lineWrapping,dB=dL?dJ-a(c1,dE):0;if(dD<=0&&dB==0){return{line:dE,ch:0}}var dy=false;function dK(dN){var dO=cu(dt,dN);if(dL){var dP=Math.round(dO.top/dA);dy=dP!=dB;return Math.max(0,dO.left+(dP-dB)*bE.clientWidth)}return dO.left}var dI=0,dH=0,du=dG.length,ds;var dF=Math.min(du,Math.ceil((dD+dB*bE.clientWidth*0.9)/dx));for(;;){var dz=dK(dF);if(dz<=dD&&dF<du){dF=Math.min(du,Math.ceil(dF*1.2))}else{ds=dz;du=dF;break}}if(dD>ds){return{line:dE,ch:du}}dF=Math.floor(du*0.8);dz=dK(dF);if(dz<dD){dI=dF;dH=dz}for(;;){if(du-dI<=1){var dw=dD-dH<ds-dD;return{line:dE,ch:dw?dI:du,after:dw}}var dM=Math.ceil((dI+du)/2),dv=dK(dM);if(dv>dD){du=dM;ds=dv;if(dy){ds+=1000}}else{dI=dM;dH=dv}}}function aJ(du){var ds=dk(du,true),dt=z(bR);return{x:dt.left+ds.x,y:dt.top+ds.y,yBot:dt.top+ds.yBot}}var bl,aS,aI;function ce(){if(aI==null){aI=ai("pre");for(var dt=0;dt<49;++dt){aI.appendChild(document.createTextNode("x"));aI.appendChild(ai("br"))}aI.appendChild(document.createTextNode("x"))}var ds=aL.clientHeight;if(ds==aS){return bl}aS=ds;q(aQ,aI.cloneNode(true));bl=aQ.firstChild.offsetHeight/50||1;aE(aQ);return bl}var dl,bS=0;function bB(){if(bE.clientWidth==bS){return dl}bS=bE.clientWidth;var ds=ai("span","x");var dt=ai("pre",[ds]);q(aQ,dt);return(dl=ds.offsetWidth||10)}function cU(){return bR.offsetTop}function bq(){return bR.offsetLeft}function bn(dw,dv){var du=z(bE,true),ds,dx;try{ds=dw.clientX;dx=dw.clientY}catch(dw){return null}if(!dv&&(ds-du.left>bE.clientWidth||dx-du.top>bE.clientHeight)){return null}var dt=z(bR,true);return b6(ds-dt.left,dx-dt.top)}var bM;function bm(dt){var dx=bn(dt),dw=a5.scrollTop;if(!dx||av){return}if(R(dq.from,dq.to)||B(dx,dq.from)||!B(dx,dq.to)){aM(bs)(dx.line,dx.ch)}var dv=bG.style.cssText;cm.style.position="absolute";bG.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(dt.clientY-5)+"px; left: "+(dt.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";bY();c4(true);if(R(dq.from,dq.to)){bG.value=bv=" "}function ds(){cm.style.position="relative";bG.style.cssText=dv;if(G){a5.scrollTop=dw}aG();if(bG.selectionStart!=null){clearTimeout(bM);var dz=bG.value=" "+(R(dq.from,dq.to)?"":bG.value),dy=0;bv=" ";bG.selectionStart=1;bG.selectionEnd=dz.length;bM=setTimeout(function dA(){if(bv==" "&&bG.selectionStart==0){aM(r.selectAll)(cC)}else{if(dy++<10){bM=setTimeout(dA,500)}else{c4()}}},200)}}if(v){ac(dt);var du=aC(window,"mouseup",function(){du();setTimeout(ds,20)},true)}else{setTimeout(ds,50)}}function df(){clearInterval(di);var ds=true;bx.style.visibility="";di=setInterval(function(){bx.style.visibility=(ds=!ds)?"":"hidden"},cq.cursorBlinkRate)}var bJ={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function cH(dy){var ds=dq.inverted?dq.from:dq.to,dA=c8(ds.line),dt=ds.ch-1;var dx=(dt>=0&&bJ[dA.text.charAt(dt)])||bJ[dA.text.charAt(++dt)];if(!dx){return}var dB=dx.charAt(0),dz=dx.charAt(1)==">",dL=dz?1:-1,dG=dA.styles;for(var dM=dt+1,dI=0,dK=dG.length;dI<dK;dI+=2){if((dM-=dG[dI].length)<=0){var dJ=dG[dI+1];break}}var dv=[dA.text.charAt(dt)],dF=/[(){}[\]]/;function dD(dY,dT,dU){if(!dY.text){return}var dX=dY.styles,dS=dz?0:dY.text.length-1,dV;for(var dP=dz?0:dX.length-2,dR=dz?dX.length:-2;dP!=dR;dP+=2*dL){var dW=dX[dP];if(dX[dP+1]!=dJ){dS+=dL*dW.length;continue}for(var dO=dz?0:dW.length-1,dN=dz?dW.length:-1;dO!=dN;dO+=dL,dS+=dL){if(dS>=dT&&dS<dU&&dF.test(dV=dW.charAt(dO))){var dQ=bJ[dV];if(dQ.charAt(1)==">"==dz){dv.push(dV)}else{if(dv.pop()!=dQ.charAt(0)){return{pos:dS,match:false}}else{if(!dv.length){return{pos:dS,match:true}}}}}}}}for(var dI=ds.line,dK=dz?Math.min(dI+100,c1.size):Math.max(-1,dI-100);dI!=dK;dI+=dL){var dA=c8(dI),dw=dI==ds.line;var dC=dD(dA,dw&&dz?dt+1:0,dw&&!dz?dt:dA.text.length);if(dC){break}}if(!dC){dC={pos:null,match:false}}var dJ=dC.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var dH=b4({line:ds.line,ch:dt},{line:ds.line,ch:dt+1},dJ),du=dC.pos!=null&&b4({line:dI,ch:dC.pos},{line:dI,ch:dC.pos+1},dJ);var dE=aM(function(){dH.clear();du&&du.clear()});if(dy){setTimeout(dE,800)}else{ct=dE}}function bt(dy){var dx,du;for(var dt=dy,dv=dy-40;dt>dv;--dt){if(dt==0){return 0}var ds=c8(dt-1);if(ds.stateAfter){return dt}var dw=ds.indentation(cq.tabSize);if(du==null||dx>dw){du=dt-1;dx=dw}}return du}function cW(du){var dt=bt(du),ds=dt&&c8(dt-1).stateAfter;if(!ds){ds=t(cE)}else{ds=m(cE,ds)}c1.iter(dt,du,function(dv){dv.process(cE,ds,cq.tabSize);dv.stateAfter=(dt==du-1||dt%5==0)?m(cE,ds):null});return ds}function ci(){if(dc>=b9){return}var ds=+new Date+cq.workTime,du=m(cE,cW(dc));var dt=dc;c1.iter(dc,b9,function(dv){if(dc>=dj){dv.highlight(cE,du,cq.tabSize);dv.stateAfter=m(cE,du)}else{dv.process(cE,du,cq.tabSize);dv.stateAfter=dc%5==0?m(cE,du):null}++dc;if(+new Date>ds){b5(cq.workDelay);return true}});if(b9>dt&&dc>=dj){aM(function(){aW.push({from:dt,to:dc})})()}}function b5(ds){if(dc<b9){aR.set(ds,ci)}}function a7(){cS=cw=dg=null;aW=[];a9=false;c2=[]}function aT(){if(c6){bV()}if(bK&&!cq.lineWrapping){var ds=br.offsetWidth,dy=cu(b3,b3.text.length).left;if(!J){br.style.left=dy+"px";bR.style.minWidth=(dy+ds)+"px"}bK=false}var dw,dt;if(a9){var dx=cg();dw=bj(dx.x,dx.y,dx.x,dx.yBot)}if(aW.length||dw&&dw.scrollTop!=null){dt=cG(aW,true,dw&&dw.scrollTop)}if(!dt){if(a9){dp()}if(bc){a4()}}if(dw){cI()}if(a9){df()}if(cL&&(cS===true||(cS!==false&&a9))){c4(cw)}if(a9&&cq.matchBrackets){setTimeout(aM(function(){if(ct){ct();ct=null}if(R(dq.from,dq.to)){cH(false)}}),20)}var dz=a9,du=c2;if(dg&&cq.onChange&&cC){cq.onChange(cC,dg)}if(dz&&cq.onCursorActivity){cq.onCursorActivity(cC)}for(var dv=0;dv<du.length;++dv){du[dv](cC)}if(dt&&cq.onUpdate){cq.onUpdate(cC)}}var cT=0;function aM(ds){return function(){if(!cT++){a7()}try{var dt=ds.apply(this,arguments)}finally{if(!--cT){aT()}}return dt}}function cd(ds){bu.startCompound();try{return ds()}finally{bu.endCompound()}}for(var b7 in c){if(c.propertyIsEnumerable(b7)&&!cC.propertyIsEnumerable(b7)){cC[b7]=c[b7]}}for(var cv=0;cv<aw.length;++cv){aw[cv](cC)}return cC}p.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,smartIndent:true,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,autoClearEmptyLines:false,onKeyEvent:null,onDragEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,dragDrop:true,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(aG){return aG}};var h=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var I=h||/Mac/.test(navigator.platform);var ae=/Win/.test(navigator.platform);var y=p.modes={},ak=p.mimeModes={};p.defineMode=function(aG,aI){if(!p.defaults.mode&&aG!="null"){p.defaults.mode=aG}if(arguments.length>2){aI.dependencies=[];for(var aH=2;aH<arguments.length;++aH){aI.dependencies.push(arguments[aH])}}y[aG]=aI};p.defineMIME=function(aH,aG){ak[aH]=aG};p.resolveMode=function(aG){if(typeof aG=="string"&&ak.hasOwnProperty(aG)){aG=ak[aG]}else{if(typeof aG=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(aG)){return p.resolveMode("application/xml")}}if(typeof aG=="string"){return{name:aG}}else{return aG||{name:"null"}}};p.getMode=function(aH,aG){var aG=p.resolveMode(aG);var aJ=y[aG.name];if(!aJ){return p.getMode(aH,"text/plain")}var aK=aJ(aH,aG);if(Z.hasOwnProperty(aG.name)){var aI=Z[aG.name];for(var aL in aI){if(aI.hasOwnProperty(aL)){aK[aL]=aI[aL]}}}aK.name=aG.name;return aK};p.listModes=function(){var aH=[];for(var aG in y){if(y.propertyIsEnumerable(aG)){aH.push(aG)}}return aH};p.listMIMEs=function(){var aH=[];for(var aG in ak){if(ak.propertyIsEnumerable(aG)){aH.push({mime:aG,mode:ak[aG]})}}return aH};var c=p.extensions={};p.defineExtension=function(aG,aH){c[aG]=aH};var aw=[];p.defineInitHook=function(aG){aw.push(aG)};var Z=p.modeExtensions={};p.extendMode=function(aI,aH){var aG=Z.hasOwnProperty(aI)?Z[aI]:(Z[aI]={});for(var aJ in aH){if(aH.hasOwnProperty(aJ)){aG[aJ]=aH[aJ]}}};var r=p.commands={selectAll:function(aG){aG.setSelection({line:0,ch:0},{line:aG.lineCount()-1})},killLine:function(aG){var aJ=aG.getCursor(true),aI=aG.getCursor(false),aH=!R(aJ,aI);if(!aH&&aG.getLine(aJ.line).length==aJ.ch){aG.replaceRange("",aJ,{line:aJ.line+1,ch:0})}else{aG.replaceRange("",aJ,aH?aI:{line:aJ.line})}},deleteLine:function(aG){var aH=aG.getCursor().line;aG.replaceRange("",{line:aH,ch:0},{line:aH})},undo:function(aG){aG.undo()},redo:function(aG){aG.redo()},goDocStart:function(aG){aG.setCursor(0,0,true)},goDocEnd:function(aG){aG.setSelection({line:aG.lineCount()-1},null,true)},goLineStart:function(aG){aG.setCursor(aG.getCursor().line,0,true)},goLineStartSmart:function(aG){var aJ=aG.getCursor();var aI=aG.getLine(aJ.line),aH=Math.max(0,aI.search(/\S/));aG.setCursor(aJ.line,aJ.ch<=aH&&aJ.ch?0:aH,true)},goLineEnd:function(aG){aG.setSelection({line:aG.getCursor().line},null,true)},goLineUp:function(aG){aG.moveV(-1,"line")},goLineDown:function(aG){aG.moveV(1,"line")},goPageUp:function(aG){aG.moveV(-1,"page")},goPageDown:function(aG){aG.moveV(1,"page")},goCharLeft:function(aG){aG.moveH(-1,"char")},goCharRight:function(aG){aG.moveH(1,"char")},goColumnLeft:function(aG){aG.moveH(-1,"column")},goColumnRight:function(aG){aG.moveH(1,"column")},goWordLeft:function(aG){aG.moveH(-1,"word")},goWordRight:function(aG){aG.moveH(1,"word")},delCharLeft:function(aG){aG.deleteH(-1,"char")},delCharRight:function(aG){aG.deleteH(1,"char")},delWordLeft:function(aG){aG.deleteH(-1,"word")},delWordRight:function(aG){aG.deleteH(1,"word")},indentAuto:function(aG){aG.indentSelection("smart")},indentMore:function(aG){aG.indentSelection("add")},indentLess:function(aG){aG.indentSelection("subtract")},insertTab:function(aG){aG.replaceSelection("\t","end")},defaultTab:function(aG){if(aG.somethingSelected()){aG.indentSelection("add")}else{aG.replaceSelection("\t","end")}},transposeChars:function(aG){var aI=aG.getCursor(),aH=aG.getLine(aI.line);if(aI.ch>0&&aI.ch<aH.length-1){aG.replaceRange(aH.charAt(aI.ch)+aH.charAt(aI.ch-1),{line:aI.line,ch:aI.ch-1},{line:aI.line,ch:aI.ch+1})}},newlineAndIndent:function(aG){aG.replaceSelection("\n","end");aG.indentLine(aG.getCursor().line)},toggleOverwrite:function(aG){aG.toggleOverwrite()}};var f=p.keyMap={};f.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};f.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};f.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};f["default"]=I?f.macDefault:f.pcDefault;f.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function aq(aG){if(typeof aG=="string"){return f[aG]}else{return aG}}function at(aH,aG,aL,aJ,aI){function aK(aQ){aQ=aq(aQ);var aO=aQ[aH];if(aO===false){if(aI){aI()}return true}if(aO!=null&&aJ(aO)){return true}if(aQ.nofallthrough){if(aI){aI()}return true}var aN=aQ.fallthrough;if(aN==null){return false}if(Object.prototype.toString.call(aN)!="[object Array]"){return aK(aN)}for(var aM=0,aP=aN.length;aM<aP;++aM){if(aK(aN[aM])){return true}}return false}if(aG&&aK(aG)){return true}return aK(aL)}function ah(aH){var aG=u[ab(aH,"keyCode")];return aG=="Ctrl"||aG=="Alt"||aG=="Shift"||aG=="Mod"}p.isModifierKey=ah;p.fromTextArea=function(aM,aO){if(!aO){aO={}}aO.value=aM.value;if(!aO.tabindex&&aM.tabindex){aO.tabindex=aM.tabindex}if(aO.autofocus==null){var aG=document.body;try{aG=document.activeElement}catch(aI){}aO.autofocus=aG==aM||aM.getAttribute("autofocus")!=null&&aG==document.body}function aK(){aM.value=aN.getValue()}if(aM.form){var aH=aC(aM.form,"submit",aK,true);if(typeof aM.form.submit=="function"){var aL=aM.form.submit;aM.form.submit=function aJ(){aK();aM.form.submit=aL;aM.form.submit();aM.form.submit=aJ}}}aM.style.display="none";var aN=p(function(aP){aM.parentNode.insertBefore(aP,aM.nextSibling)},aO);aN.save=aK;aN.getTextArea=function(){return aM};aN.toTextArea=function(){aK();aM.parentNode.removeChild(aN.getWrapperElement());aM.style.display="";if(aM.form){aH();if(typeof aM.form.submit=="function"){aM.form.submit=aL}}};return aN};var v=/gecko\/\d{7}/i.test(navigator.userAgent);var S=/MSIE \d/.test(navigator.userAgent);var J=/MSIE [1-7]\b/.test(navigator.userAgent);var G=/MSIE [1-8]\b/.test(navigator.userAgent);var l=S&&document.documentMode==5;var k=/WebKit\//.test(navigator.userAgent);var n=/Chrome\//.test(navigator.userAgent);var av=/Opera\//.test(navigator.userAgent);var E=/Apple Computer/.test(navigator.vendor);var af=/KHTML\//.test(navigator.userAgent);var U=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);function m(aJ,aG){if(aG===true){return aG}if(aJ.copyState){return aJ.copyState(aG)}var aI={};for(var aK in aG){var aH=aG[aK];if(aH instanceof Array){aH=aH.concat([])}aI[aK]=aH}return aI}p.copyState=m;function t(aI,aH,aG){return aI.startState?aI.startState(aH,aG):true}p.startState=t;p.innerMode=function(aI,aG){while(aI.innerMode){var aH=aI.innerMode(aG);aG=aH.state;aI=aH.mode}return aH||{mode:aI,state:aG}};function ag(aG,aH){this.pos=this.start=0;this.string=aG;this.tabSize=aH||8}ag.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(aG){var aI=this.string.charAt(this.pos);if(typeof aG=="string"){var aH=aI==aG}else{var aH=aI&&(aG.test?aG.test(aI):aG(aI))}if(aH){++this.pos;return aI}},eatWhile:function(aG){var aH=this.pos;while(this.eat(aG)){}return this.pos>aH},eatSpace:function(){var aG=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>aG},skipToEnd:function(){this.pos=this.string.length},skipTo:function(aG){var aH=this.string.indexOf(aG,this.pos);if(aH>-1){this.pos=aH;return true}},backUp:function(aG){this.pos-=aG},column:function(){return an(this.string,this.start,this.tabSize)},indentation:function(){return an(this.string,null,this.tabSize)},match:function(aJ,aH,aG){if(typeof aJ=="string"){var aK=function(aL){return aG?aL.toLowerCase():aL};if(aK(this.string).indexOf(aK(aJ),this.pos)==this.pos){if(aH!==false){this.pos+=aJ.length}return true}}else{var aI=this.string.slice(this.pos).match(aJ);if(aI&&aI.index>0){return null}if(aI&&aH!==false){this.pos+=aI[0].length}return aI}},current:function(){return this.string.slice(this.start,this.pos)}};p.StringStream=ag;function X(aI,aH,aG){this.from=aI;this.to=aH;this.marker=aG}function aF(aI,aG){if(aI){for(var aH=0;aH<aI.length;++aH){var aJ=aI[aH];if(aJ.marker==aG){return aJ}}}}function aB(aH,aI){var aJ;for(var aG=0;aG<aH.length;++aG){if(aH[aG]!=aI){(aJ||(aJ=[])).push(aH[aG])}}return aJ}function T(aH,aI,aK){if(aH){for(var aL=0,aN;aL<aH.length;++aL){var aO=aH[aL],aM=aO.marker;var aG=aO.from==null||(aM.inclusiveLeft?aO.from<=aI:aO.from<aI);if(aG||aM.type=="bookmark"&&aO.from==aI&&aO.from!=aK){var aJ=aO.to==null||(aM.inclusiveRight?aO.to>=aI:aO.to>aI);(aN||(aN=[])).push({from:aO.from,to:aJ?null:aO.to,marker:aM})}}}return aN}function au(aI,aL){if(aI){for(var aK=0,aH;aK<aI.length;++aK){var aM=aI[aK],aG=aM.marker;var aN=aM.to==null||(aG.inclusiveRight?aM.to>=aL:aM.to>aL);if(aN||aG.type=="bookmark"&&aM.from==aL){var aJ=aM.from==null||(aG.inclusiveLeft?aM.from<=aL:aM.from<aL);(aH||(aH=[])).push({from:aJ?null:aM.from-aL,to:aM.to==null?null:aM.to-aL,marker:aG})}}}return aH}function W(aO,aT,aH,aK,aN){if(!aO&&!aT){return aN}var aM=T(aO,aH);var aR=au(aT,aK);var aS=aN.length==1,aI=N(aN).length+(aS?aH:0);if(aM){for(var aJ=0;aJ<aM.length;++aJ){var aQ=aM[aJ];if(aQ.to==null){var aU=aF(aR,aQ.marker);if(!aU){aQ.to=aH}else{if(aS){aQ.to=aU.to==null?null:aU.to+aI}}}}}if(aR){for(var aJ=0;aJ<aR.length;++aJ){var aQ=aR[aJ];if(aQ.to!=null){aQ.to+=aI}if(aQ.from==null){var aU=aF(aM,aQ.marker);if(!aU){aQ.from=aI;if(aS){(aM||(aM=[])).push(aQ)}}}else{aQ.from+=aI;if(aS){(aM||(aM=[])).push(aQ)}}}}var aL=[j(aN[0],aM)];if(!aS){var aP=aN.length-2,aG;if(aP>0&&aM){for(var aJ=0;aJ<aM.length;++aJ){if(aM[aJ].to==null){(aG||(aG=[])).push({from:null,to:null,marker:aM[aJ].marker})}}}for(var aJ=0;aJ<aP;++aJ){aL.push(j(aN[aJ+1],aG))}aL.push(j(N(aN),aR))}return aL}function ar(aG){return typeof aG=="string"?aG:aG.text}function d(aJ){if(typeof aJ=="string"){return null}var aI=aJ.markedSpans,aG=null;for(var aH=0;aH<aI.length;++aH){if(aI[aH].marker.explicitlyCleared){if(!aG){aG=aI.slice(0,aH)}}else{if(aG){aG.push(aI[aH])}}}return !aG?aI:aG.length?aG:null}function j(aH,aG){return aG?{text:aH,markedSpans:aG}:aH}function ay(aI){var aK=aI.markedSpans;if(!aK){return}for(var aJ=0;aJ<aK.length;++aJ){var aH=aK[aJ].marker.lines;var aG=s(aH,aI);aH.splice(aG,1)}aI.markedSpans=null}function aA(aH,aJ){if(!aJ){return}for(var aI=0;aI<aJ.length;++aI){var aG=aJ[aI].marker.lines.push(aH)}aH.markedSpans=aJ}var am=" ";if(v||(S&&!J)){am="\u200b"}else{if(av){am=""}}function H(aH,aG){this.text=aH;this.height=1;aA(this,aG)}H.prototype={update:function(aH,aG){this.text=aH;this.stateAfter=this.styles=null;ay(this);aA(this,aG)},highlight:function(aM,aJ,aK){var aL=new ag(this.text,aK),aG=this.styles||(this.styles=[]);var aN=aG.length=0;if(this.text==""&&aM.blankLine){aM.blankLine(aJ)}while(!aL.eol()){var aH=aM.token(aL,aJ),aI=aL.current();aL.start=aL.pos;if(aN&&aG[aN-1]==aH){aG[aN-2]+=aI}else{if(aI){aG[aN++]=aI;aG[aN++]=aH}}if(aL.pos>5000){aG[aN++]=this.text.slice(aL.pos);aG[aN++]=null;break}}},process:function(aJ,aG,aH){var aI=new ag(this.text,aH);if(this.text==""&&aJ.blankLine){aJ.blankLine(aG)}while(!aI.eol()&&aI.pos<=5000){aJ.token(aI,aG);aI.start=aI.pos}},getTokenAt:function(aM,aJ,aK,aI){var aG=this.text,aL=new ag(aG,aK);while(aL.pos<aI&&!aL.eol()){aL.start=aL.pos;var aH=aM.token(aL,aJ)}return{start:aL.start,end:aL.pos,string:aL.current(),className:aH||null,state:aJ}},indentation:function(aG){return an(this.text,null,aG)},getContent:function(aV,aG,aR){var aM=true,aK=0,a2=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;var aU=ai("pre");function a3(bh,bm,be){if(!bm){return}if(aM&&S&&bm.charAt(0)==" "){bm="\u00a0"+bm.slice(1)}aM=false;if(!a2.test(bm)){aK+=bm.length;var bi=document.createTextNode(bm)}else{var bi=document.createDocumentFragment(),bk=0;while(true){a2.lastIndex=bk;var bf=a2.exec(bm);var bj=bf?bf.index-bk:bm.length-bk;if(bj){bi.appendChild(document.createTextNode(bm.slice(bk,bk+bj)));aK+=bj}if(!bf){break}bk+=bj+1;if(bf[0]=="\t"){var bl=aV-aK%aV;bi.appendChild(ai("span",ax(bl),"cm-tab"));aK+=bl}else{var bg=ai("span","\u2022","cm-invalidchar");bg.title="\\u"+bf[0].charCodeAt(0).toString(16);bi.appendChild(bg);aK+=1}}}if(be){bh.appendChild(ai("span",[bi],be))}else{bh.appendChild(bi)}}var a6=a3;if(aG!=null){var a0=0,aN=aU.anchor=ai("span");a6=function(bg,bj,bh){var bf=bj.length;if(aG>=a0&&aG<a0+bf){var bi=aG-a0;if(bi){a3(bg,bj.slice(0,bi),bh);if(aR){var be=bj.slice(bi-1,bi+1);if(F.test(be)){bg.appendChild(ai("wbr"))}else{if(!J&&/\w\w/.test(be)){bg.appendChild(document.createTextNode("\u200d"))}}}}bg.appendChild(aN);a3(aN,av?bj.slice(bi,bi+1):bj.slice(bi),bh);if(av){a3(bg,bj.slice(bi+1),bh)}aG--;a0+=bf}else{a0+=bf;a3(bg,bj,bh);if(a0==aG&&a0==ba){w(aN,am);bg.appendChild(aN)}else{if(a0>aG+10&&/\s/.test(bj)){a6=function(){}}}}}}var aZ=this.styles,aO=this.text,aW=this.markedSpans;var ba=aO.length;function aJ(be){if(!be){return null}return"cm-"+be.replace(/ +/g," cm-")}if(!aO&&aG==null){a6(aU," ")}else{if(!aW||!aW.length){for(var a7=0,aQ=0;aQ<ba;a7+=2){var aY=aZ[a7],a9=aZ[a7+1],a1=aY.length;if(aQ+a1>ba){aY=aY.slice(0,ba-aQ)}aQ+=a1;a6(aU,aY,aJ(a9))}}else{aW.sort(function(bf,be){return bf.from-be.from});var aL=0,a7=0,aT="",a9,bd=0;var bc=aW[0].from||0,a5=[],bb=0;var a8=function(){var be;while(bb<aW.length&&((be=aW[bb]).from==aL||be.from==null)){if(be.marker.type=="range"){a5.push(be)}++bb}bc=bb<aW.length?aW[bb].from:Infinity;for(var bf=0;bf<a5.length;++bf){var bg=a5[bf].to;if(bg==null){bg=Infinity}if(bg==aL){a5.splice(bf--,1)}else{bc=Math.min(bg,bc)}}};var aX=0;while(aL<ba){if(bc==aL){a8()}var aS=Math.min(ba,bc);while(true){if(aT){var aI=aL+aT.length;var aH=a9;for(var a4=0;a4<a5.length;++a4){var aP=a5[a4];aH=(aH?aH+" ":"")+aP.marker.style;if(aP.marker.endStyle&&aP.to===Math.min(aI,aS)){aH+=" "+aP.marker.endStyle}if(aP.marker.startStyle&&aP.from===aL){aH+=" "+aP.marker.startStyle}}a6(aU,aI>aS?aT.slice(0,aS-aL):aT,aH);if(aI>=aS){aT=aT.slice(aS-aL);aL=aS;break}aL=aI}aT=aZ[a7++];a9=aJ(aZ[a7++])}}}}return aU},cleanUp:function(){this.parent=null;ay(this)}};function O(aH){this.lines=aH;this.parent=null;for(var aI=0,aJ=aH.length,aG=0;aI<aJ;++aI){aH[aI].parent=this;aG+=aH[aI].height}this.height=aG}O.prototype={chunkSize:function(){return this.lines.length},remove:function(aG,aM,aK){for(var aJ=aG,aL=aG+aM;aJ<aL;++aJ){var aH=this.lines[aJ];this.height-=aH.height;aH.cleanUp();if(aH.handlers){for(var aI=0;aI<aH.handlers.length;++aI){aK.push(aH.handlers[aI])}}}this.lines.splice(aG,aM)},collapse:function(aG){aG.splice.apply(aG,[aG.length,0].concat(this.lines))},insertHeight:function(aH,aI,aG){this.height+=aG;this.lines=this.lines.slice(0,aH).concat(aI).concat(this.lines.slice(aH));for(var aJ=0,aK=aI.length;aJ<aK;++aJ){aI[aJ].parent=this}},iterN:function(aG,aJ,aI){for(var aH=aG+aJ;aG<aH;++aG){if(aI(this.lines[aG])){return true}}}};function aj(aJ){this.children=aJ;var aI=0,aG=0;for(var aH=0,aL=aJ.length;aH<aL;++aH){var aK=aJ[aH];aI+=aK.chunkSize();aG+=aK.height;aK.parent=this}this.size=aI;this.height=aG;this.parent=null}aj.prototype={chunkSize:function(){return this.size},remove:function(aI,aH,aL){this.size-=aH;for(var aJ=0;aJ<this.children.length;++aJ){var aG=this.children[aJ],aM=aG.chunkSize();if(aI<aM){var aK=Math.min(aH,aM-aI),aN=aG.height;aG.remove(aI,aK,aL);this.height-=aN-aG.height;if(aM==aK){this.children.splice(aJ--,1);aG.parent=null}if((aH-=aK)==0){break}aI=0}else{aI-=aM}}if(this.size-aH<25){var aO=[];this.collapse(aO);this.children=[new O(aO)];this.children[0].parent=this}},collapse:function(aG){for(var aH=0,aI=this.children.length;aH<aI;++aH){this.children[aH].collapse(aG)}},insert:function(aH,aI){var aG=0;for(var aJ=0,aK=aI.length;aJ<aK;++aJ){aG+=aI[aJ].height}this.insertHeight(aH,aI,aG)},insertHeight:function(aH,aO,aN){this.size+=aO.length;this.height+=aN;for(var aI=0,aK=this.children.length;aI<aK;++aI){var aG=this.children[aI],aL=aG.chunkSize();if(aH<=aL){aG.insertHeight(aH,aO,aN);if(aG.lines&&aG.lines.length>50){while(aG.lines.length>50){var aJ=aG.lines.splice(aG.lines.length-25,25);var aM=new O(aJ);aG.height-=aM.height;this.children.splice(aI+1,0,aM);aM.parent=this}this.maybeSpill()}break}aH-=aL}},maybeSpill:function(){if(this.children.length<=10){return}var aJ=this;do{var aH=aJ.children.splice(aJ.children.length-5,5);var aI=new aj(aH);if(!aJ.parent){var aK=new aj(aJ.children);aK.parent=aJ;aJ.children=[aK,aI];aJ=aK}else{aJ.size-=aI.size;aJ.height-=aI.height;var aG=s(aJ.parent.children,aJ);aJ.parent.children.splice(aG+1,0,aI)}aI.parent=aJ.parent}while(aJ.children.length>10);aJ.parent.maybeSpill()},iter:function(aI,aH,aG){this.iterN(aI,aH-aI,aG)},iterN:function(aG,aN,aM){for(var aH=0,aK=this.children.length;aH<aK;++aH){var aL=this.children[aH],aJ=aL.chunkSize();if(aG<aJ){var aI=Math.min(aN,aJ-aG);if(aL.iterN(aG,aI,aM)){return true}if((aN-=aI)==0){break}aG=0}else{aG-=aJ}}}};function K(aG,aK){while(!aG.lines){for(var aH=0;;++aH){var aJ=aG.children[aH],aI=aJ.chunkSize();if(aK<aI){aG=aJ;break}aK-=aI}}return aG.lines[aK]}function V(aG){if(aG.parent==null){return null}var aL=aG.parent,aK=s(aL.lines,aG);for(var aH=aL.parent;aH;aL=aH,aH=aH.parent){for(var aI=0,aJ=aH.children.length;;++aI){if(aH.children[aI]==aL){break}aK+=aH.children[aI].chunkSize()}}return aK}function ad(aM,aK){var aI=0;outer:do{for(var aJ=0,aL=aM.children.length;aJ<aL;++aJ){var aH=aM.children[aJ],aG=aH.height;if(aK<aG){aM=aH;continue outer}aK-=aG;aI+=aH.chunkSize()}return aI}while(!aM.lines);for(var aJ=0,aL=aM.lines.length;aJ<aL;++aJ){var aO=aM.lines[aJ],aN=aO.height;if(aK<aN){break}aK-=aN}return aI+aJ}function a(aG,aM){var aI=0;outer:do{for(var aH=0,aK=aG.children.length;aH<aK;++aH){var aL=aG.children[aH],aJ=aL.chunkSize();if(aM<aJ){aG=aL;continue outer}aM-=aJ;aI+=aL.height}return aI}while(!aG.lines);for(var aH=0;aH<aM;++aH){aI+=aG.lines[aH].height}return aI}function D(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=false}D.prototype={addChange:function(aG,aL,aH){this.undone.length=0;var aI=+new Date,aN=N(this.done),aO=aN&&N(aN);var aK=aI-this.time;if(aN&&!this.closed&&this.compound){aN.push({start:aG,added:aL,old:aH})}else{if(aK>400||!aO||this.closed||aO.start>aG+aH.length||aO.start+aO.added<aG){this.done.push([{start:aG,added:aL,old:aH}]);this.closed=false}else{var aM=Math.max(0,aO.start-aG),aP=Math.max(0,(aG+aH.length)-(aO.start+aO.added));for(var aJ=aM;aJ>0;--aJ){aO.old.unshift(aH[aJ-1])}for(var aJ=aP;aJ>0;--aJ){aO.old.push(aH[aH.length-aJ])}if(aM){aO.start=aG}aO.added+=aL-(aH.length-aM-aP)}}this.time=aI},startCompound:function(){if(!this.compound++){this.closed=true}},endCompound:function(){if(!--this.compound){this.closed=true}}};function x(){ac(this)}function P(aG){if(!aG.stop){aG.stop=x}return aG}function e(aG){if(aG.preventDefault){aG.preventDefault()}else{aG.returnValue=false}}function o(aG){if(aG.stopPropagation){aG.stopPropagation()}else{aG.cancelBubble=true}}function ac(aG){e(aG);o(aG)}p.e_stop=ac;p.e_preventDefault=e;p.e_stopPropagation=o;function ap(aG){return aG.target||aG.srcElement}function C(aH){var aG=aH.which;if(aG==null){if(aH.button&1){aG=1}else{if(aH.button&2){aG=3}else{if(aH.button&4){aG=2}}}}if(I&&aH.ctrlKey&&aG==1){aG=3}return aG}function ab(aH,aI){var aG=aH.override&&aH.override.hasOwnProperty(aI);return aG?aH.override[aI]:aH[aI]}function aC(aJ,aI,aH,aG){if(typeof aJ.addEventListener=="function"){aJ.addEventListener(aI,aH,false);if(aG){return function(){aJ.removeEventListener(aI,aH,false)}}}else{var aK=function(aL){aH(aL||window.event)};aJ.attachEvent("on"+aI,aK);if(aG){return function(){aJ.detachEvent("on"+aI,aK)}}}}p.connect=aC;function i(){this.id=null}i.prototype={set:function(aG,aH){clearTimeout(this.id);this.id=setTimeout(aH,aG)}};var ao=p.Pass={toString:function(){return"CodeMirror.Pass"}};var aa=function(){if(G){return false}var aG=ai("div");return"draggable" in aG||"dragDrop" in aG}();var Q=function(){var aG=ai("textarea");aG.value="foo\nbar";if(aG.value.indexOf("\r")>-1){return"\r\n"}return"\n"}();var F=/^$/;if(v){F=/$'/}else{if(E){F=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/}else{if(n){F=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/}}}function an(aH,aG,aJ){if(aG==null){aG=aH.search(/[^\s\u00a0]/);if(aG==-1){aG=aH.length}}for(var aI=0,aK=0;aI<aG;++aI){if(aH.charAt(aI)=="\t"){aK+=aJ-(aK%aJ)}else{++aK}}return aK}function z(aJ,aG){try{var aI=aJ.getBoundingClientRect();aI={top:aI.top,left:aI.left}}catch(aK){aI={top:0,left:0}}if(!aG){if(window.pageYOffset==null){var aH=document.documentElement||document.body.parentNode;if(aH.scrollTop==null){aH=document.body}aI.top+=aH.scrollTop;aI.left+=aH.scrollLeft}else{aI.top+=window.pageYOffset;aI.left+=window.pageXOffset}}return aI}function az(aG){return aG.textContent||aG.innerText||aG.nodeValue||""}var al=[""];function ax(aG){while(al.length<=aG){al.push(N(al)+" ")}return al[aG]}function N(aG){return aG[aG.length-1]}function aD(aG){if(h){aG.selectionStart=0;aG.selectionEnd=aG.value.length}else{aG.select()}}function R(aH,aG){return aH.line==aG.line&&aH.ch==aG.ch}function B(aH,aG){return aH.line<aG.line||(aH.line==aG.line&&aH.ch<aG.ch)}function Y(aG){return{line:aG.line,ch:aG.ch}}function ai(aG,aK,aJ,aI){var aL=document.createElement(aG);if(aJ){aL.className=aJ}if(aI){aL.style.cssText=aI}if(typeof aK=="string"){w(aL,aK)}else{if(aK){for(var aH=0;aH<aK.length;++aH){aL.appendChild(aK[aH])}}}return aL}function aE(aG){aG.innerHTML="";return aG}function q(aG,aH){aE(aG).appendChild(aH)}function w(aG,aH){if(G){aG.innerHTML="";aG.appendChild(document.createTextNode(aH))}else{aG.textContent=aH}}function A(aJ,aI){if(!aI){return 0}if(!aJ){return aI.length}for(var aH=aJ.length,aG=aI.length;aH>=0&&aG>=0;--aH,--aG){if(aJ.charAt(aH)!=aI.charAt(aG)){break}}return aG+1}function s(aJ,aG){if(aJ.indexOf){return aJ.indexOf(aG)}for(var aH=0,aI=aJ.length;aH<aI;++aH){if(aJ[aH]==aG){return aH}}return -1}var M=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/;function L(aG){return/\w/.test(aG)||aG>"\x80"&&(aG.toUpperCase()!=aG.toLowerCase()||M.test(aG))}var g="\n\nb".split(/\n/).length!=3?function(aL){var aM=0,aG=[],aK=aL.length;while(aM<=aK){var aJ=aL.indexOf("\n",aM);if(aJ==-1){aJ=aL.length}var aI=aL.slice(aM,aL.charAt(aJ-1)=="\r"?aJ-1:aJ);var aH=aI.indexOf("\r");if(aH!=-1){aG.push(aI.slice(0,aH));aM+=aH+1}else{aG.push(aI);aM=aJ+1}}return aG}:function(aG){return aG.split(/\r\n?|\n/)};p.splitLines=g;var b=window.getSelection?function(aH){try{return aH.selectionStart!=aH.selectionEnd}catch(aG){return false}}:function(aI){try{var aG=aI.ownerDocument.selection.createRange()}catch(aH){}if(!aG||aG.parentElement()!=aI){return false}return aG.compareEndPoints("StartToEnd",aG)!=0};p.defineMode("null",function(){return{token:function(aG){aG.skipToEnd()}}});p.defineMIME("text/plain","null");var u={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};p.keyNames=u;(function(){for(var aG=0;aG<10;aG++){u[aG+48]=String(aG)}for(var aG=65;aG<=90;aG++){u[aG]=String.fromCharCode(aG)}for(var aG=1;aG<=12;aG++){u[aG+111]=u[aG+63235]="F"+aG}})();p.version="2.35 +";return p})();